<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>SER Pilot</title>
  <link rel="stylesheet" href="/static/style.css"/>
</head>
<body>
  <div class="card">
    <h1>SER Pilot</h1>

    <form id="startForm">
      <label>Participant ID</label>
      <input name="participant_id" placeholder="e.g., P001" />
      <button type="submit">Start</button>
    </form>

    <p class="hint">
      Logs will be saved automatically in <code>data/</code>.
    </p>
  </div>

<script>
document.getElementById("startForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  const form = new FormData(e.target);
  const res = await fetch("/start", { method:"POST", body: form });
  const js = await res.json();
  if (js.ok) location.href = "/run";
  else alert("Start failed: " + (js.error || ""));
});
</script>
</body>
</html>
